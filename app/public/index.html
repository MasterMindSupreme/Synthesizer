<html>

<head>
    <title>Virtual Synth</title>
    <link rel="stylesheet" href="components/knob.css">
    <link rel="stylesheet" href="components/volume.css">
    <link rel="stylesheet" href="components/toggle-button.css">
    <link rel="stylesheet" href="components/oscillator.css">
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body class="bg-gray-100 justify-center min-h-screen">
    <!-- Temporary play button for testing the initial sound environment -->
    <button id="play">
        play
    </button>
    <!-- Temporary input element with temporary values for testing the initial sound environment -->
    <input id="freq" type="range" min="4" max="7040" value="440">
    <main>
        <div id="oscillator">
            <canvas id="oscillatorView" width="600px" height="100px"></canvas>
            <div class="flex flex-row">
            <fieldset class="bg-white border-2 border-black w-[20] h-[130]">
                <legend class="text-x1 font-bold text-gray-700 text-center px-2 p-0 m-0">Tune</legend>

                <div id="knob-rack" class="flex flex-col items-center md:flex-row"></div>
            </fieldset>
            <div id="OSCVolume"></div>
            <div class="button-container">
                <div class="toggle-button" data-type="ENV1">ENV 1</div>
                <div class="toggle-button" data-type="LFO1">LFO 1</div>
                <div class="toggle-button" data-type="FILTER1">FILTER 1</div>
                <div class="toggle-button" data-type="ENV2">ENV 2</div>
                <div class="toggle-button" data-type="LFO2">LFO 2</div>
                <div class="toggle-button" data-type="FILTER2">FILTER 2</div>
                <div class="toggle-button" data-type="ENV3">ENV 3</div>        
                <div class="toggle-button" data-type="LFO3">LFO 3</div>
                <div class="toggle-button" data-type="FILTER3">FILTER 3</div>
            </div>
        </div>
    </main>
    </div>

    <!-- Knob Component Container -->
    <div id="knob-component-num1" style="display: none;"
        class="knob-container bg-gray-200 p-[1.5rem] -my-[11rem] px-4 -mx-36 rounded-2xl shadow-lg text-center w-[24rem] transform scale-[0.20]">
        <!-- Title -->
        <h2 id="knob-title-num1" class="text-5xl font-bold text-gray-700 mb-12"></h2>

        <!-- Dial and Labels Wrapper -->
        <div class="relative w-48 h-48 mx-auto">
            <!-- Labels will be injected here by JavaScript -->
            <div id="knob-labels-num1" class="absolute inset-0"></div>

            <!-- The circular knob dial -->
            <div id="knob-dial-num1"
                class="absolute inset-[25%] bg-gray-500 rounded-full shadow-md cursor-pointer flex items-center justify-center">

                <!-- Larger Triangle Indicator -->
                <!--<div class="w-0 h-0 border-l-[14px] border-l-transparent border-r-[14px] border-r-transparent border-b-[22px] border-b-black transform translate-y-[-18px]"></div>-->

                <!-- Thin Line Indicator -->
                <div class="absolute top-2 left-1/2 -translate-x-1/2 w-3 h-[calc(50%-0.5rem)] bg-gray-900 rounded-full">
                </div>
            </div>
        </div>

        <!-- Value Input -->
        <div class="mt-6">
            <input id="knob-value-input-num1" type="number"
                class="w-34 text-center bg-white border border-gray-300 rounded-md p-2 text-6xl font-mono focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
    </div>
    <script type="module" src="play.js"></script>
    
    <script type="module" src="components/toggle-button.js"></script>

    <!-- volume component -->
    <div id="volume-component-num1" style="display: none;" class="volume-container w-24 -mr-4 -ml-2 transform scale-[0.60] -my-7">
        <div class="volume-title">Volume</div>
            <div class="volume-slider-wrapper">
                <input type="range" class="volume-slider" id="volume-slider-num1" min="0" max="100" value="75">
            </div>
        <div class="volume-percentage" id="volume-label-num1"></div>
    </div>

    <div id="sample-loader" class="flex flex-col items-center space-y-2 m-4">
        <label class="font-bold text-lg text-gray-800">Open Sample:</label>
        <select id="sampleSelect" class="border p-2 rounded">
            <option disabled selected value="">-- Choose a sample --</option>
            <!-- JS will insert options here -->
        </select>
        <button id="playSampleBtn" class="px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-400" disabled>â–¶ Play</button>
    </div>
    <script type="module" data-main="js/main" src="warp.js"></script>

</body>

</html>